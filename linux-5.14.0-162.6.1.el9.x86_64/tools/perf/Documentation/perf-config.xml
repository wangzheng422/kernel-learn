<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">
<?asciidoc-toc?>
<?asciidoc-numbered?>
<refentry>
<refentryinfo><date></date></refentryinfo>
<refmeta>
<refentrytitle>perf-config</refentrytitle>
<manvolnum>1</manvolnum>
<refmiscinfo class="source">perf</refmiscinfo>
<refmiscinfo class="version"></refmiscinfo>
<refmiscinfo class="manual">perf Manual</refmiscinfo>
</refmeta>
<refnamediv>
  <refname>perf-config</refname>
  <refpurpose>Get and set variables in a configuration file.</refpurpose>
</refnamediv>
<refsynopsisdiv id="_synopsis">
<blockquote>
<literallayout><emphasis>perf config</emphasis> [&lt;file-option&gt;] [section.name[=value] &#8230;]
or
<emphasis>perf config</emphasis> [&lt;file-option&gt;] -l | --list</literallayout>
</blockquote>
</refsynopsisdiv>
<refsect1 id="_description">
<title>DESCRIPTION</title>
<simpara>You can manage variables in a configuration file with this command.</simpara>
</refsect1>
<refsect1 id="_options">
<title>OPTIONS</title>
<variablelist>
<varlistentry>
<term>
-l
</term>
<term>
--list
</term>
<listitem>
<simpara>
        Show current config variables, name and value, for all sections.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
--user
</term>
<listitem>
<simpara>
        For writing and reading options: write to user
        <emphasis>$HOME/.perfconfig</emphasis> file or read it.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
--system
</term>
<listitem>
<simpara>
        For writing and reading options: write to system-wide
        <emphasis>$(sysconfdir)/perfconfig</emphasis> or read it.
</simpara>
</listitem>
</varlistentry>
</variablelist>
</refsect1>
<refsect1 id="_configuration_file">
<title>CONFIGURATION FILE</title>
<simpara>The perf configuration file contains many variables to change various
aspects of each of its tools, including output, disk usage, etc.
The <emphasis>$HOME/.perfconfig</emphasis> file is used to store a per-user configuration.
The file <emphasis>$(sysconfdir)/perfconfig</emphasis> can be used to
store a system-wide default configuration.</simpara>
<simpara>One an disable reading config files by setting the PERF_CONFIG environment
variable to /dev/null, or provide an alternate config file by setting that
variable.</simpara>
<simpara>When reading or writing, the values are read from the system and user
configuration files by default, and options <emphasis>--system</emphasis> and <emphasis>--user</emphasis>
can be used to tell the command to read from or write to only that location.</simpara>
<refsect2 id="_syntax">
<title>Syntax</title>
<simpara>The file consist of sections. A section starts with its name
surrounded by square brackets and continues till the next section
begins. Each variable must be in a section, and have the form
<emphasis>name = value</emphasis>, for example:</simpara>
<literallayout class="monospaced">[section]
        name1 = value1
        name2 = value2</literallayout>
<simpara>Section names are case sensitive and can contain any characters except
newline (double quote <literal>"</literal> and backslash have to be escaped as <literal>\"</literal> and <literal>\\</literal>,
respectively). Section headers can&#8217;t span multiple lines.</simpara>
</refsect2>
<refsect2 id="_example">
<title>Example</title>
<simpara>Given a $HOME/.perfconfig like this:</simpara>
<simpara>#
# This is the config file, and
# a <emphasis>#</emphasis> and <emphasis>;</emphasis> character indicates a comment
#</simpara>
<literallayout class="monospaced">[colors]
        # Color variables
        top = red, default
        medium = green, default
        normal = lightgray, default
        selected = white, lightgray
        jump_arrows = blue, default
        addr = magenta, default
        root = white, blue</literallayout>
<literallayout class="monospaced">[tui]
        # Defaults if linked with libslang
        report = on
        annotate = on
        top = on</literallayout>
<literallayout class="monospaced">[buildid]
        # Default, disable using /dev/null
        dir = ~/.debug</literallayout>
<literallayout class="monospaced">[annotate]
        # Defaults
        hide_src_code = false
        use_offset = true
        jump_arrows = true
        show_nr_jumps = false</literallayout>
<literallayout class="monospaced">[help]
        # Format can be man, info, web or html
        format = man
        autocorrect = 0</literallayout>
<literallayout class="monospaced">[ui]
        show-headers = true</literallayout>
<literallayout class="monospaced">[call-graph]
        # fp (framepointer), dwarf
        record-mode = fp
        print-type = graph
        order = caller
        sort-key = function</literallayout>
<literallayout class="monospaced">[report]
        # Defaults
        sort_order = comm,dso,symbol
        percent-limit = 0
        queue-size = 0
        children = true
        group = true
        skip-empty = true</literallayout>
<literallayout class="monospaced">[llvm]
        dump-obj = true
        clang-opt = -g</literallayout>
<simpara>You can hide source code of annotate feature setting the config to false with</simpara>
<literallayout class="monospaced">% perf config annotate.hide_src_code=true</literallayout>
<simpara>If you want to add or modify several config items, you can do like</simpara>
<literallayout class="monospaced">% perf config ui.show-headers=false kmem.default=slab</literallayout>
<simpara>To modify the sort order of report functionality in user config file(i.e. <literal>~/.perfconfig</literal>), do</simpara>
<literallayout class="monospaced">% perf config --user report.sort-order=srcline</literallayout>
<simpara>To change colors of selected line to other foreground and background colors
in system config file (i.e. <literal>$(sysconf)/perfconfig</literal>), do</simpara>
<literallayout class="monospaced">% perf config --system colors.selected=yellow,green</literallayout>
<simpara>To query the record mode of call graph, do</simpara>
<literallayout class="monospaced">% perf config call-graph.record-mode</literallayout>
<simpara>If you want to know multiple config key/value pairs, you can do like</simpara>
<literallayout class="monospaced">% perf config report.queue-size call-graph.order report.children</literallayout>
<simpara>To query the config value of sort order of call graph in user config file (i.e. <literal>~/.perfconfig</literal>), do</simpara>
<literallayout class="monospaced">% perf config --user call-graph.sort-order</literallayout>
<simpara>To query the config value of buildid directory in system config file (i.e. <literal>$(sysconf)/perfconfig</literal>), do</simpara>
<literallayout class="monospaced">% perf config --system buildid.dir</literallayout>
</refsect2>
<refsect2 id="_variables">
<title>Variables</title>
<variablelist>
<varlistentry>
<term>
colors.*
</term>
<listitem>
<simpara>
        The variables for customizing the colors used in the output for the
        <emphasis>report</emphasis>, <emphasis>top</emphasis> and <emphasis>annotate</emphasis> in the TUI. They should specify the
        foreground and background colors, separated by a comma, for example:
</simpara>
<literallayout class="monospaced">medium = green, lightgray</literallayout>
<literallayout class="monospaced">If you want to use the color configured for you terminal, just leave it
as 'default', for example:</literallayout>
<literallayout class="monospaced">medium = default, lightgray</literallayout>
<literallayout class="monospaced">Available colors:
red, yellow, green, cyan, gray, black, blue,
white, default, magenta, lightgray</literallayout>
</listitem>
</varlistentry>
<varlistentry>
<term>
colors.top
</term>
<listitem>
<simpara>
                <emphasis>top</emphasis> means a overhead percentage which is more than 5%.
                And values of this variable specify percentage colors.
                Basic key values are foreground-color <emphasis>red</emphasis> and
                background-color <emphasis>default</emphasis>.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
colors.medium
</term>
<listitem>
<simpara>
                <emphasis>medium</emphasis> means a overhead percentage which has more than 0.5%.
                Default values are <emphasis>green</emphasis> and <emphasis>default</emphasis>.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
colors.normal
</term>
<listitem>
<simpara>
                <emphasis>normal</emphasis> means the rest of overhead percentages
                except <emphasis>top</emphasis>, <emphasis>medium</emphasis>, <emphasis>selected</emphasis>.
                Default values are <emphasis>lightgray</emphasis> and <emphasis>default</emphasis>.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
colors.selected
</term>
<listitem>
<simpara>
                This selects the colors for the current entry in a list of entries
                from sub-commands (top, report, annotate).
                Default values are <emphasis>black</emphasis> and <emphasis>lightgray</emphasis>.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
colors.jump_arrows
</term>
<listitem>
<simpara>
                Colors for jump arrows on assembly code listings
                such as <emphasis>jns</emphasis>, <emphasis>jmp</emphasis>, <emphasis>jane</emphasis>, etc.
                Default values are <emphasis>blue</emphasis>, <emphasis>default</emphasis>.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
colors.addr
</term>
<listitem>
<simpara>
                This selects colors for addresses from <emphasis>annotate</emphasis>.
                Default values are <emphasis>magenta</emphasis>, <emphasis>default</emphasis>.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
colors.root
</term>
<listitem>
<simpara>
                Colors for headers in the output of a sub-commands (top, report).
                Default values are <emphasis>white</emphasis>, <emphasis>blue</emphasis>.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
core.*
</term>
<term>
core.proc-map-timeout
</term>
<listitem>
<simpara>
                Sets a timeout (in milliseconds) for parsing /proc/&lt;pid&gt;/maps files.
                Can be overridden by the --proc-map-timeout option on supported
                subcommands. The default timeout is 500ms.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
tui.<emphasis role="strong">, gtk.</emphasis>
</term>
<listitem>
<simpara>
        Subcommands that can be configured here are <emphasis>top</emphasis>, <emphasis>report</emphasis> and <emphasis>annotate</emphasis>.
        These values are booleans, for example:
</simpara>
<literallayout class="monospaced">[tui]
        top = true</literallayout>
<literallayout class="monospaced">will make the TUI be the default for the 'top' subcommand. Those will be
available if the required libs were detected at tool build time.</literallayout>
</listitem>
</varlistentry>
<varlistentry>
<term>
buildid.*
</term>
<term>
buildid.dir
</term>
<listitem>
<simpara>
                Each executable and shared library in modern distributions comes with a
                content based identifier that, if available, will be inserted in a
                <emphasis>perf.data</emphasis> file header to, at analysis time find what is needed to do
                symbol resolution, code annotation, etc.
</simpara>
<literallayout class="monospaced">The recording tools also stores a hard link or copy in a per-user
directory, $HOME/.debug/, of binaries, shared libraries, /proc/kallsyms
and /proc/kcore files to be used at analysis time.</literallayout>
<literallayout class="monospaced">The buildid.dir variable can be used to either change this directory
cache location, or to disable it altogether. If you want to disable it,
set buildid.dir to /dev/null. The default is $HOME/.debug</literallayout>
</listitem>
</varlistentry>
<varlistentry>
<term>
buildid-cache.*
</term>
<listitem>
<simpara>
        buildid-cache.debuginfod=URLs
                Specify debuginfod URLs to be used when retrieving perf.data binaries,
                it follows the same syntax as the DEBUGINFOD_URLS variable, like:
</simpara>
<literallayout class="monospaced">buildid-cache.debuginfod=http://192.168.122.174:8002</literallayout>
</listitem>
</varlistentry>
<varlistentry>
<term>
annotate.*
</term>
<listitem>
<simpara>
        These are in control of addresses, jump function, source code
        in lines of assembly code from a specific program.
</simpara>
<literallayout class="monospaced">annotate.disassembler_style:
        Use this to change the default disassembler style to some other value
        supported by binutils, such as "intel", see the '-M' option help in the
        'objdump' man page.</literallayout>
</listitem>
</varlistentry>
<varlistentry>
<term>
annotate.hide_src_code
</term>
<listitem>
<simpara>
                If a program which is analyzed has source code,
                this option lets <emphasis>annotate</emphasis> print a list of assembly code with the source code.
                For example, let&#8217;s see a part of a program. There&#8217;re four lines.
                If this option is <emphasis>true</emphasis>, they can be printed
                without source code from a program as below.
</simpara>
<literallayout class="monospaced">│        push   %rbp
│        mov    %rsp,%rbp
│        sub    $0x10,%rsp
│        mov    (%rdi),%rdx</literallayout>
<literallayout class="monospaced">But if this option is 'false', source code of the part
can be also printed as below. Default is 'false'.</literallayout>
<literallayout class="monospaced">│      struct rb_node *rb_next(const struct rb_node *node)
│      {
│        push   %rbp
│        mov    %rsp,%rbp
│        sub    $0x10,%rsp
│              struct rb_node *parent;
│
│              if (RB_EMPTY_NODE(node))
│        mov    (%rdi),%rdx
│              return n;</literallayout>
<literallayout class="monospaced">This option works with tui, stdio2 browsers.</literallayout>
</listitem>
</varlistentry>
<varlistentry>
<term>
annotate.use_offset
</term>
<listitem>
<simpara>
                Basing on a first address of a loaded function, offset can be used.
                Instead of using original addresses of assembly code,
                addresses subtracted from a base address can be printed.
                Let&#8217;s illustrate an example.
                If a base address is 0XFFFFFFFF81624d50 as below,
</simpara>
<literallayout class="monospaced">ffffffff81624d50 &lt;load0&gt;</literallayout>
<literallayout class="monospaced">an address on assembly code has a specific absolute address as below</literallayout>
<literallayout class="monospaced">ffffffff816250b8:│  mov    0x8(%r14),%rdi</literallayout>
<literallayout class="monospaced">but if use_offset is 'true', an address subtracted from a base address is printed.
Default is true. This option is only applied to TUI.</literallayout>
<literallayout class="monospaced">368:│  mov    0x8(%r14),%rdi</literallayout>
<literallayout class="monospaced">This option works with tui, stdio2 browsers.</literallayout>
</listitem>
</varlistentry>
<varlistentry>
<term>
annotate.jump_arrows
</term>
<listitem>
<simpara>
                There can be jump instruction among assembly code.
                Depending on a boolean value of jump_arrows,
                arrows can be printed or not which represent
                where do the instruction jump into as below.
</simpara>
<literallayout class="monospaced">│     ┌──jmp    1333
│     │  xchg   %ax,%ax
│1330:│  mov    %r15,%r10
│1333:└─→cmp    %r15,%r14</literallayout>
<literallayout class="monospaced">If jump_arrow is 'false', the arrows isn't printed as below.
Default is 'false'.</literallayout>
<literallayout class="monospaced">│      ↓ jmp    1333
│        xchg   %ax,%ax
│1330:   mov    %r15,%r10
│1333:   cmp    %r15,%r14</literallayout>
<literallayout class="monospaced">This option works with tui browser.</literallayout>
</listitem>
</varlistentry>
<varlistentry>
<term>
annotate.show_linenr
</term>
<listitem>
<simpara>
                When showing source code if this option is <emphasis>true</emphasis>,
                line numbers are printed as below.
</simpara>
<literallayout class="monospaced">│1628         if (type &amp; PERF_SAMPLE_IDENTIFIER) {
│     ↓ jne    508
│1628                 data-&gt;id = *array;
│1629                 array++;
│1630         }</literallayout>
<literallayout class="monospaced">However if this option is 'false', they aren't printed as below.
Default is 'false'.</literallayout>
<literallayout class="monospaced">│             if (type &amp; PERF_SAMPLE_IDENTIFIER) {
│     ↓ jne    508
│                     data-&gt;id = *array;
│                     array++;
│             }</literallayout>
<literallayout class="monospaced">This option works with tui, stdio2 browsers.</literallayout>
</listitem>
</varlistentry>
<varlistentry>
<term>
annotate.show_nr_jumps
</term>
<listitem>
<simpara>
                Let&#8217;s see a part of assembly code.
</simpara>
<literallayout class="monospaced">│1382:   movb   $0x1,-0x270(%rbp)</literallayout>
<literallayout class="monospaced">If use this, the number of branches jumping to that address can be printed as below.
Default is 'false'.</literallayout>
<literallayout class="monospaced">│1 1382:   movb   $0x1,-0x270(%rbp)</literallayout>
<literallayout class="monospaced">This option works with tui, stdio2 browsers.</literallayout>
</listitem>
</varlistentry>
<varlistentry>
<term>
annotate.show_total_period
</term>
<listitem>
<simpara>
                To compare two records on an instruction base, with this option
                provided, display total number of samples that belong to a line
                in assembly code. If this option is <emphasis>true</emphasis>, total periods are printed
                instead of percent values as below.
</simpara>
<literallayout class="monospaced">302 │      mov    %eax,%eax</literallayout>
<literallayout class="monospaced">But if this option is 'false', percent values for overhead are printed i.e.
Default is 'false'.</literallayout>
<literallayout class="monospaced">99.93 │      mov    %eax,%eax</literallayout>
<literallayout class="monospaced">This option works with tui, stdio2, stdio browsers.</literallayout>
</listitem>
</varlistentry>
<varlistentry>
<term>
annotate.show_nr_samples
</term>
<listitem>
<simpara>
                By default perf annotate shows percentage of samples. This option
                can be used to print absolute number of samples. Ex, when set as
                false:
</simpara>
<literallayout class="monospaced">Percent│
 74.03 │      mov    %fs:0x28,%rax</literallayout>
<literallayout class="monospaced">When set as true:</literallayout>
<literallayout class="monospaced">Samples│
     6 │      mov    %fs:0x28,%rax</literallayout>
<literallayout class="monospaced">This option works with tui, stdio2, stdio browsers.</literallayout>
</listitem>
</varlistentry>
<varlistentry>
<term>
annotate.offset_level
</term>
<listitem>
<simpara>
                Default is <emphasis>1</emphasis>, meaning just jump targets will have offsets show right beside
                the instruction. When set to <emphasis>2</emphasis> <emphasis>call</emphasis> instructions will also have its offsets
                shown, 3 or higher will show offsets for all instructions.
</simpara>
<literallayout class="monospaced">This option works with tui, stdio2 browsers.</literallayout>
</listitem>
</varlistentry>
<varlistentry>
<term>
annotate.demangle
</term>
<listitem>
<simpara>
                Demangle symbol names to human readable form. Default is <emphasis>true</emphasis>.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
annotate.demangle_kernel
</term>
<listitem>
<simpara>
                Demangle kernel symbol names to human readable form. Default is <emphasis>true</emphasis>.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
hist.*
</term>
<term>
hist.percentage
</term>
<listitem>
<simpara>
                This option control the way to calculate overhead of filtered entries -
                that means the value of this option is effective only if there&#8217;s a
                filter (by comm, dso or symbol name). Suppose a following example:
</simpara>
<literallayout class="monospaced">Overhead  Symbols
........  .......
 33.33%     foo
 33.33%     bar
 33.33%     baz</literallayout>
<literallayout class="monospaced">This is an original overhead and we'll filter out the first 'foo'
entry. The value of 'relative' would increase the overhead of 'bar'
and 'baz' to 50.00% for each, while 'absolute' would show their
current overhead (33.33%).</literallayout>
</listitem>
</varlistentry>
<varlistentry>
<term>
ui.*
</term>
<term>
ui.show-headers
</term>
<listitem>
<simpara>
                This option controls display of column headers (like <emphasis>Overhead</emphasis> and <emphasis>Symbol</emphasis>)
                in <emphasis>report</emphasis> and <emphasis>top</emphasis>. If this option is false, they are hidden.
                This option is only applied to TUI.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
call-graph.*
</term>
<listitem>
<simpara>
        The following controls the handling of call-graphs (obtained via the
        -g/--call-graph options).
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
call-graph.record-mode
</term>
<listitem>
<simpara>
                The mode for user space can be <emphasis>fp</emphasis> (frame pointer), <emphasis>dwarf</emphasis>
                and <emphasis>lbr</emphasis>.  The value <emphasis>dwarf</emphasis> is effective only if libunwind
                (or a recent version of libdw) is present on the system;
                the value <emphasis>lbr</emphasis> only works for certain cpus. The method for
                kernel space is controlled not by this option but by the
                kernel config (CONFIG_UNWINDER_*).
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
call-graph.dump-size
</term>
<listitem>
<simpara>
                The size of stack to dump in order to do post-unwinding. Default is 8192 (byte).
                When using dwarf into record-mode, the default size will be used if omitted.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
call-graph.print-type
</term>
<listitem>
<simpara>
                The print-types can be graph (graph absolute), fractal (graph relative),
                flat and folded. This option controls a way to show overhead for each callchain
                entry. Suppose a following example.
</simpara>
<literallayout class="monospaced">Overhead  Symbols
........  .......
  40.00%  foo
          |
          ---foo
             |
             |--50.00%--bar
             |          main
             |
              --50.00%--baz
                        main</literallayout>
<literallayout class="monospaced">This output is a 'fractal' format. The 'foo' came from 'bar' and 'baz' exactly
half and half so 'fractal' shows 50.00% for each
(meaning that it assumes 100% total overhead of 'foo').</literallayout>
<literallayout class="monospaced">The 'graph' uses absolute overhead value of 'foo' as total so each of
'bar' and 'baz' callchain will have 20.00% of overhead.
If 'flat' is used, single column and linear exposure of call chains.
'folded' mean call chains are displayed in a line, separated by semicolons.</literallayout>
</listitem>
</varlistentry>
<varlistentry>
<term>
call-graph.order
</term>
<listitem>
<simpara>
                This option controls print order of callchains. The default is
                <emphasis>callee</emphasis> which means callee is printed at top and then followed by its
                caller and so on. The <emphasis>caller</emphasis> prints it in reverse order.
</simpara>
<literallayout class="monospaced">If this option is not set and report.children or top.children is
set to true (or the equivalent command line option is given),
the default value of this option is changed to 'caller' for the
execution of 'perf report' or 'perf top'. Other commands will
still default to 'callee'.</literallayout>
</listitem>
</varlistentry>
<varlistentry>
<term>
call-graph.sort-key
</term>
<listitem>
<simpara>
                The callchains are merged if they contain same information.
                The sort-key option determines a way to compare the callchains.
                A value of <emphasis>sort-key</emphasis> can be <emphasis>function</emphasis> or <emphasis>address</emphasis>.
                The default is <emphasis>function</emphasis>.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
call-graph.threshold
</term>
<listitem>
<simpara>
                When there&#8217;re many callchains it&#8217;d print tons of lines. So perf omits
                small callchains under a certain overhead (threshold) and this option
                control the threshold. Default is 0.5 (%). The overhead is calculated
                by value depends on call-graph.print-type.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
call-graph.print-limit
</term>
<listitem>
<simpara>
                This is a maximum number of lines of callchain printed for a single
                histogram entry. Default is 0 which means no limitation.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
report.*
</term>
<term>
report.sort_order
</term>
<listitem>
<simpara>
                Allows changing the default sort order from "comm,dso,symbol" to
                some other default, for instance "sym,dso" may be more fitting for
                kernel developers.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
report.percent-limit
</term>
<listitem>
<simpara>
                This one is mostly the same as call-graph.threshold but works for
                histogram entries. Entries having an overhead lower than this
                percentage will not be printed. Default is <emphasis>0</emphasis>. If percent-limit
                is <emphasis>10</emphasis>, only entries which have more than 10% of overhead will be
                printed.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
report.queue-size
</term>
<listitem>
<simpara>
                This option sets up the maximum allocation size of the internal
                event queue for ordering events. Default is 0, meaning no limit.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
report.children
</term>
<listitem>
<simpara>
                <emphasis>Children</emphasis> means functions called from another function.
                If this option is true, <emphasis>perf report</emphasis> cumulates callchains of children
                and show (accumulated) total overhead as well as <emphasis>Self</emphasis> overhead.
                Please refer to the <emphasis>perf report</emphasis> manual. The default is <emphasis>true</emphasis>.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
report.group
</term>
<listitem>
<simpara>
                This option is to show event group information together.
                Example output with this turned on, notice that there is one column
                per event in the group, ref-cycles and cycles:
</simpara>
<literallayout class="monospaced"># group: {ref-cycles,cycles}
# ========
#
# Samples: 7K of event 'anon group { ref-cycles, cycles }'
# Event count (approx.): 6876107743
#
#         Overhead  Command      Shared Object               Symbol
# ................  .......  .................  ...................
#
    99.84%  99.76%  noploop  noploop            [.] main
     0.07%   0.00%  noploop  ld-2.15.so         [.] strcmp
     0.03%   0.00%  noploop  [kernel.kallsyms]  [k] timerqueue_del</literallayout>
</listitem>
</varlistentry>
<varlistentry>
<term>
report.skip-empty
</term>
<listitem>
<simpara>
                This option can change default stat behavior with empty results.
                If it&#8217;s set true, <emphasis>perf report --stat</emphasis> will not show 0 stats.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
top.*
</term>
<term>
top.children
</term>
<listitem>
<simpara>
                Same as <emphasis>report.children</emphasis>. So if it is enabled, the output of <emphasis>top</emphasis>
                command will have <emphasis>Children</emphasis> overhead column as well as <emphasis>Self</emphasis> overhead
                column by default.
                The default is <emphasis>true</emphasis>.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
top.call-graph
</term>
<listitem>
<simpara>
                This is identical to <emphasis>call-graph.record-mode</emphasis>, except it is
                applicable only for <emphasis>top</emphasis> subcommand. This option ONLY setup
                the unwind method. To enable <emphasis>perf top</emphasis> to actually use it,
                the command line option -g must be specified.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
man.*
</term>
<term>
man.viewer
</term>
<listitem>
<simpara>
                This option can assign a tool to view manual pages when <emphasis>help</emphasis>
                subcommand was invoked. Supported tools are <emphasis>man</emphasis>, <emphasis>woman</emphasis>
                (with emacs client) and <emphasis>konqueror</emphasis>. Default is <emphasis>man</emphasis>.
</simpara>
<literallayout class="monospaced">New man viewer tool can be also added using 'man.&lt;tool&gt;.cmd'
or use different path using 'man.&lt;tool&gt;.path' config option.</literallayout>
</listitem>
</varlistentry>
<varlistentry>
<term>
pager.*
</term>
<term>
pager.&lt;subcommand&gt;
</term>
<listitem>
<simpara>
                When the subcommand is run on stdio, determine whether it uses
                pager or not based on this value. Default is <emphasis>unspecified</emphasis>.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
kmem.*
</term>
<term>
kmem.default
</term>
<listitem>
<simpara>
                This option decides which allocator is to be analyzed if neither
                <emphasis>--slab</emphasis> nor <emphasis>--page</emphasis> option is used. Default is <emphasis>slab</emphasis>.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
record.*
</term>
<term>
record.build-id
</term>
<listitem>
<simpara>
                This option can be <emphasis>cache</emphasis>, <emphasis>no-cache</emphasis>, <emphasis>skip</emphasis> or <emphasis>mmap</emphasis>.
                <emphasis>cache</emphasis> is to post-process data and save/update the binaries into
                the build-id cache (in ~/.debug). This is the default.
                But if this option is <emphasis>no-cache</emphasis>, it will not update the build-id cache.
                <emphasis>skip</emphasis> skips post-processing and does not update the cache.
                <emphasis>mmap</emphasis> skips post-processing and reads build-ids from MMAP events.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
record.call-graph
</term>
<listitem>
<simpara>
                This is identical to <emphasis>call-graph.record-mode</emphasis>, except it is
                applicable only for <emphasis>record</emphasis> subcommand. This option ONLY setup
                the unwind method. To enable <emphasis>perf record</emphasis> to actually use it,
                the command line option -g must be specified.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
record.aio
</term>
<listitem>
<simpara>
                Use <emphasis>n</emphasis> control blocks in asynchronous (Posix AIO) trace writing
                mode (<emphasis>n</emphasis> default: 1, max: 4).
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
record.debuginfod
</term>
<listitem>
<simpara>
                Specify debuginfod URL to be used when cacheing perf.data binaries,
                it follows the same syntax as the DEBUGINFOD_URLS variable, like:
</simpara>
<literallayout class="monospaced">http://192.168.122.174:8002</literallayout>
<literallayout class="monospaced">If the URLs is 'system', the value of DEBUGINFOD_URLS system environment
variable is used.</literallayout>
</listitem>
</varlistentry>
<varlistentry>
<term>
diff.*
</term>
<term>
diff.order
</term>
<listitem>
<simpara>
                This option sets the number of columns to sort the result.
                The default is 0, which means sorting by baseline.
                Setting it to 1 will sort the result by delta (or other
                compute method selected).
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
diff.compute
</term>
<listitem>
<simpara>
                This options sets the method for computing the diff result.
                Possible values are <emphasis>delta</emphasis>, <emphasis>delta-abs</emphasis>, <emphasis>ratio</emphasis> and
                <emphasis>wdiff</emphasis>.  Default is <emphasis>delta</emphasis>.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
trace.*
</term>
<term>
trace.add_events
</term>
<listitem>
<simpara>
                Allows adding a set of events to add to the ones specified
                by the user, or use as a default one if none was specified.
                The initial use case is to add augmented_raw_syscalls.o to
                activate the <emphasis>perf trace</emphasis> logic that looks for syscall
                pointer contents after the normal tracepoint payload.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
trace.args_alignment
</term>
<listitem>
<simpara>
                Number of columns to align the argument list, default is 70,
                use 40 for the strace default, zero to no alignment.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
trace.no_inherit
</term>
<listitem>
<simpara>
                Do not follow children threads.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
trace.show_arg_names
</term>
<listitem>
<simpara>
                Should syscall argument names be printed? If not then trace.show_zeros
                will be set.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
trace.show_duration
</term>
<listitem>
<simpara>
                Show syscall duration.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
trace.show_prefix
</term>
<listitem>
<simpara>
                If set to <emphasis>yes</emphasis> will show common string prefixes in tables. The default
                is to remove the common prefix in things like "MAP_SHARED", showing just "SHARED".
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
trace.show_timestamp
</term>
<listitem>
<simpara>
                Show syscall start timestamp.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
trace.show_zeros
</term>
<listitem>
<simpara>
                Do not suppress syscall arguments that are equal to zero.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
trace.tracepoint_beautifiers
</term>
<listitem>
<simpara>
                Use "libtraceevent" to use that library to augment the tracepoint arguments,
                "libbeauty", the default, to use the same argument beautifiers used in the
                strace-like sys_enter+sys_exit lines.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
ftrace.*
</term>
<term>
ftrace.tracer
</term>
<listitem>
<simpara>
                Can be used to select the default tracer when neither -G nor
                -F option is not specified. Possible values are <emphasis>function</emphasis> and
                <emphasis>function_graph</emphasis>.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
llvm.*
</term>
<term>
llvm.clang-path
</term>
<listitem>
<simpara>
                Path to clang. If omit, search it from $PATH.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
llvm.clang-bpf-cmd-template
</term>
<listitem>
<simpara>
                Cmdline template. Below lines show its default value. Environment
                variable is used to pass options.
                "$CLANG_EXEC -D<emphasis>KERNEL</emphasis> -D<emphasis>NR_CPUS</emphasis>=$NR_CPUS "\
                "-DLINUX_VERSION_CODE=$LINUX_VERSION_CODE "     \
                "$CLANG_OPTIONS $PERF_BPF_INC_OPTIONS $KERNEL_INC_OPTIONS " \
                "-Wno-unused-value -Wno-pointer-sign "          \
                "-working-directory $WORKING_DIR "              \
                "-c \"$CLANG_SOURCE\" -target bpf $CLANG_EMIT_LLVM -O2 -o - $LLVM_OPTIONS_PIPE"
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
llvm.clang-opt
</term>
<listitem>
<simpara>
                Options passed to clang.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
llvm.kbuild-dir
</term>
<listitem>
<simpara>
                kbuild directory. If not set, use /lib/modules/<literal>uname -r</literal>/build.
                If set to "" deliberately, skip kernel header auto-detector.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
llvm.kbuild-opts
</term>
<listitem>
<simpara>
                Options passed to <emphasis>make</emphasis> when detecting kernel header options.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
llvm.dump-obj
</term>
<listitem>
<simpara>
                Enable perf dump BPF object files compiled by LLVM.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
llvm.opts
</term>
<listitem>
<simpara>
                Options passed to llc.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
samples.*
</term>
<term>
samples.context
</term>
<listitem>
<simpara>
                Define how many ns worth of time to show
                around samples in perf report sample context browser.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
scripts.*
</term>
<listitem>
<simpara>
        Any option defines a script that is added to the scripts menu
        in the interactive perf browser and whose output is displayed.
        The name of the option is the name, the value is a script command line.
        The script gets the same options passed as a full perf script,
        in particular -i perfdata file, --cpu, --tid
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
convert.*
</term>
<term>
convert.queue-size
</term>
<listitem>
<simpara>
                Limit the size of ordered_events queue, so we could control
                allocation size of perf data files without proper finished
                round events.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
stat.*
</term>
<term>
stat.big-num
</term>
<listitem>
<simpara>
                (boolean) Change the default for "--big-num". To make
                "--no-big-num" the default, set "stat.big-num=false".
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
intel-pt.*
</term>
<term>
intel-pt.cache-divisor
</term>
<term>
intel-pt.mispred-all
</term>
<listitem>
<simpara>
                If set, Intel PT decoder will set the mispred flag on all
                branches.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
intel-pt.max-loops
</term>
<listitem>
<simpara>
                If set and non-zero, the maximum number of unconditional
                branches decoded without consuming any trace packets. If
                the maximum is exceeded there will be a "Never-ending loop"
                error. The default is 100000.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
auxtrace.*
</term>
<term>
auxtrace.dumpdir
</term>
<listitem>
<simpara>
                s390 only. The directory to save the auxiliary trace buffer
                can be changed using this option. Ex, auxtrace.dumpdir=/tmp.
                If the directory does not exist or has the wrong file type,
                the current directory is used.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
daemon.*
</term>
<term>
daemon.base
</term>
<listitem>
<simpara>
                Base path for daemon data. All sessions data are stored under
                this path.
</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>
session-&lt;NAME&gt;.*
</term>
<term>
session-&lt;NAME&gt;.run
</term>
<listitem>
<simpara>
                Defines new record session for daemon. The value is record&#8217;s
                command line without the <emphasis>record</emphasis> keyword.
</simpara>
</listitem>
</varlistentry>
</variablelist>
</refsect2>
</refsect1>
<refsect1 id="_see_also">
<title>SEE ALSO</title>
<simpara><citerefentry>
<refentrytitle>perf</refentrytitle><manvolnum>1</manvolnum>
</citerefentry></simpara>
</refsect1>
</refentry>
